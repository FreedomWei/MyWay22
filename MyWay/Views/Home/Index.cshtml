@using Mldel.Contents

@{
    ViewBag.Title = "Index";
    Layout = "~/Views/Shared/_Layout.cshtml";
}
<link href="wei.ico" rel="shortcut icon" type="image/x-icon" />
<style>
    #biaoqian li {
        list-style: none;
        padding-top: 10px;
        overflow: hidden;
        white-space: nowrap;
        text-overflow: ellipsis;
    }


    #home ul li a:hover {
        color: #EB6841;
    }
</style>

@*<div class="row">
    <!--幻灯片开始-->
    <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="padding:0px;margin:0px;">
        <div id="carousel-example-captions" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carousel-example-captions" data-slide-to="0" class=""></li>
                <li data-target="#carousel-example-captions" data-slide-to="1" class="active"></li>
                <li data-target="#carousel-example-captions" data-slide-to="2" class=""></li>
            </ol>
            <div class="carousel-inner" role="listbox">
                <div class="item">
                    <img src="/images/big6.jpg" data-holder-rendered="true">
                    <div class="carousel-caption">
                        <p>Nulla vitae elit libero, a pharetra augue mollis interdum.</p>
                    </div>
                </div>
                <div class="item active">
                    <img src="/images/big7.jpg" data-holder-rendered="true">
                    <div class="carousel-caption">
                        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit.</p>
                    </div>
                </div>
                <div class="item">
                    <img src="/images/big8.jpg" data-holder-rendered="true">
                    <div class="carousel-caption">
                        <p>Praesent commodo cursus magna, vel scelerisque nisl consectetur.</p>
                    </div>
                </div>
            </div>
            <a class="left carousel-control" href="#carousel-example-captions" role="button" data-slide="prev">
                <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="right carousel-control" href="#carousel-example-captions" role="button" data-slide="next">
                <span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>
    </div>
    <!--幻灯片结束-->
</div>
<br />*@

<div class="row">
    <div class="jumbotron" style="margin-bottom: 0px;">
        <h2 style="text-align: center;" id="h1"><a style="font-size: 90px;">本站距百年网站还有99年</a></h2>
    </div>
</div>
<div class="row">
    <marquee onMouseOut="this.start()" onMouseOver="this.stop()" direction="up" behavior="slide" align="center" scrollamount="1" scrolldelay="0" loop="-1" height="83" bgcolor="#eee" hspace="0" vspace="5">
        <div id="mar" style="text-align: center;">

        </div>
    </marquee>
</div>
<!--主题内容开始-->
<div class="row" style="border: 1px solid #faf5f5;">
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border: 1px solid #faf5f5; height: 550px; ">
        <div class="row" style="background: #F8F8F8;">
            <p style="margin-left:17px;margin-bottom:0px;font-size:18px;font-weight:bold;">资讯中心 <a href="/home/ContentList?typeId=1" style="font-weight:100;"> [ 更多 ] </a></p>
        </div>
        <div class="row">
            @{int aa = 0;}
            @foreach (var item in ViewBag.clist as List<Mldel.Content.ContentModel>)
            {
                aa++;
                if (aa <= 2)
                {
                    <div class="col-lg-6 col-md-6 col-sm-6 col-xs-6" style="margin-top:8px;">
                        <a href="/home/detail?id=@item.Id" title="@item.Title">
                            <div class="thumbnail">
                                <img src="@item.ImagePath" style="width:155px; height:155px" />
                                <h5 style="text-overflow:ellipsis;overflow:hidden;white-space:nowrap;">
                                    @item.Title
                                </h5>
                            </div>
                        </a>
                    </div>
                }
            }

            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
                <div class="list-group">
                    @{int bb = 0;}
                    @foreach (var item in ViewBag.clist as List<Mldel.Content.ContentModel>)
                    {
                        bb++;
                        if (bb > 2)
                        {
                            <a href="/home/detail?id=@item.Id" class="list-group-item" style="text-overflow: ellipsis; overflow: hidden; white-space: nowrap;">@item.Title</a>
                        }
                    }
                </div>
            </div>


        </div>

    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border: 1px solid #faf5f5; height: 550px;">
        <div class="row" style="background: #F8F8F8;">
            <p style="margin-left:17px;margin-bottom:0px;font-size:18px;font-weight:bold;">学习笔记 <a href="/home/ContentList?typeId=2" style="font-weight:100;"> [ 更多 ] </a></p>
        </div>
        <div class="row" style="margin-top:5px;">
            @{int tuijian = 0;}
            @foreach (var item in ViewBag.clist2 as List<Mldel.Content.ContentModel>)
            {
                tuijian++;
                if (tuijian <= 6)
                {
                    <div class="list-group" style="margin-bottom:0px;padding:4px;">
                        <a href="/home/Detail?id=@item.Id" class="list-group-item">
                            <h4 class="list-group-item-heading" style="text-overflow:ellipsis;overflow:hidden;white-space:nowrap;">@item.Title</h4>
                            <p class="list-group-item-text" style="font-size:10px;text-overflow:ellipsis;white-space:pre-wrap;">@item.Describe</p>
                        </a>
                    </div>
                }
            }
        </div>
    </div>
    <div class="col-lg-4 col-md-4 col-sm-12 col-xs-12" style="border: 1px solid #faf5f5; height: 550px;">
        <div class="row" style="background: #F8F8F8;">
            <p style="margin-left:17px;margin-bottom:0px;font-size:18px;font-weight:bold;">网站概况</p>
        </div>
        <div class="row">
            <div class="list-group" style="margin:5px;">
                <p class="list-group-item">注册人数：<strong style="color:#F90">@ViewBag.UserCount</strong></p>
                <p class="list-group-item">在线人数：<strong style="color:#F90" id="onlines">@ViewBag.OnLineUserCount</strong></p>
            </div>
        </div>
        <div class="row" style="background: #F8F8F8;">
            <p style="margin-left:17px;margin-bottom:0px;font-size:18px;font-weight:bold;">标签云</p>
        </div>
        <div class="row cloud">
            <ul id="biaoqianyun">
            </ul>
        </div>
        <br />
        <div class="row" style="background: #F8F8F8;">
            <p style="margin-left:17px;margin-bottom:0px;font-size:18px;font-weight:bold;">推荐文章</p>
        </div>
        <div class="row">
            @*<div class="media" style="margin:5px;">
                <div class="media-left" style="width:50px;height:50px;">
                    <a href="#">
                        <img class="media-object" src="/images/big7.jpg" alt="..." width="60" height="60">
                    </a>
                </div>
                <div class="media-body">
                    <h4 class="media-heading">Media heading</h4>
                    asdasdasdasd
                </div>
            </div>*@


            <!--标签页开始-->
            <div class="col-lg-12 col-md-12 col-sm-12 col-xs-12" style="padding: 0px; margin: 0px;">
                <ul class="nav nav-pills" id="myTabs" style="border-bottom:1px solid #eee;">
                    <li role="presentation" class="active"><a href="#home">点击排行</a></li>
                    <li role="presentation"><a href="#profile">最新文章</a></li>
                    <li role="presentation"><a href="#messages">热门文章</a></li>
                    <li role="presentation"><a href="#settings">站长推荐</a></li>
                </ul>
                <div class="tab-content" id="biaoqian">
                    <div class="tab-pane active" id="home">
                        <ul>
                            @for (int i = 0; i < (ViewBag.ContentBySee as List<Mldel.Content.ContentModel>).Count; i++)
                            {
                                if (i == 0)
                                {
                                    <li><span class="badge" style="background-color: #FF3300;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else if (i == 1)
                                {
                                    <li><span class="badge" style="background-color: #F60;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else if (i == 2)
                                {
                                    <li><span class="badge" style="background-color: #F90;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else
                                {
                                    <li><span class="badge" style="background-color: #666;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                            }
                        </ul>
                    </div>
                    <div class="tab-pane" id="profile">
                        <ul>
                            @for (int i = 0; i < (ViewBag.ContentByTime as List<Mldel.Content.ContentModel>).Count; i++)
                            {
                                if (i == 0)
                                {
                                    <li><span class="badge" style="background-color: #FF3300;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentByTime as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else if (i == 1)
                                {
                                    <li><span class="badge" style="background-color: #F60;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentByTime as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else if (i == 2)
                                {
                                    <li><span class="badge" style="background-color: #F90;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentByTime as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else
                                {
                                    <li><span class="badge" style="background-color: #666;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentByTime as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                            }
                        </ul>
                    </div>
                    <div class="tab-pane" id="messages">
                        <ul>
                            @for (int i = 0; i < (ViewBag.ContentByPingLun as List<Mldel.Content.ContentModel>).Count; i++)
                            {
                                if (i == 0)
                                {
                                    <li><span class="badge" style="background-color: #FF3300;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentByPingLun as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else if (i == 1)
                                {
                                    <li><span class="badge" style="background-color: #F60;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentByPingLun as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else if (i == 2)
                                {
                                    <li><span class="badge" style="background-color: #F90;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentByPingLun as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else
                                {
                                    <li><span class="badge" style="background-color: #666;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.ContentByPingLun as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                            }
                        </ul>
                    </div>
                    <div class="tab-pane" id="settings">
                        <ul>
                            @for (int i = 0; i < (ViewBag.clist3 as List<Mldel.Content.ContentModel>).Count; i++)
                            {
                                if (i == 0)
                                {
                                    <li><span class="badge" style="background-color: #FF3300;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.clist as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else if (i == 1)
                                {
                                    <li><span class="badge" style="background-color: #F60;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.clist as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else if (i == 2)
                                {
                                    <li><span class="badge" style="background-color: #F90;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.clist as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                                else
                                {
                                    <li><span class="badge" style="background-color: #666;margin-bottom:3px;">@Html.Raw(i + 1)</span> <a href="/home/detail?id=@((ViewBag.ContentBySee as List<Mldel.Content.ContentModel>)[i].Id)">@((ViewBag.clist as List<Mldel.Content.ContentModel>)[i].Title)</a></li>
                                }
                            }
                        </ul>
                    </div>
                </div>
                <script>
                    $('#myTabs a').mousemove(function (e) {
                        e.preventDefault()
                        $(this).tab('show')
                    })
                </script>

            </div>
            <!--标签页结束-->

        </div>
    </div>
</div>

<!--主题内容结束-->

<script>

    var map = new BMap.Map("map");
    var city = '广州';
    function myFun(result) {
        city = result.name;
        map.setCenter(city);
    }
    var myCity = new BMap.LocalCity();
    myCity.get(myFun);



    GetTianQi();
    //获取天气
    function GetTianQi() {
        city = city.substring(0, 2);
        $.post2('/home/GetWeatherbyCityName', { "city": city }, function (data) {
            var jsons = JSON.parse(data);
            var html = '';
            html += '所在城市：<span>' + jsons[0] + '</span> &nbsp; <span>' + jsons[1] + '</span>&nbsp;&nbsp;<br/>';
            html += '&nbsp; 概况：<span>' + jsons[6] + '</span>&nbsp;<img src="/images/weather/' + jsons[8] + '">&nbsp;风向和风力：<span>' + jsons[7] + '</span><br/>';
            html += '<span>' + jsons[10] + '</span>&nbsp;&nbsp;<img src="/images/weather/' + jsons[15] + '"><br/>';
            html += '最后更新时间：<span>' + jsons[4] + '</span><br/>';
            $("#mar").html(html);
        });
    }

</script>